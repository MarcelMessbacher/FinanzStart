(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{4895:function(e,s,t){Promise.resolve().then(t.bind(t,8303))},8303:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var n=t(7437),a=t(2265),r=t(9099),i=t(9291);let l=[{title:"Retail Associate",monthlySalary:1800},{title:"Barista",monthlySalary:1700},{title:"Administrative Assistant",monthlySalary:2400},{title:"Apprentice Electrician",monthlySalary:2600},{title:"Delivery Driver",monthlySalary:2200},{title:"Warehouse Worker",monthlySalary:2300}],d={bachelor:[{field:"Business Administration",expectedMonthlySalary:3500,years:3,annualTuition:4e3},{field:"Computer Science",expectedMonthlySalary:4200,years:3,annualTuition:5e3},{field:"Nursing",expectedMonthlySalary:3200,years:3,annualTuition:3500}],master:[{field:"MBA",expectedMonthlySalary:5500,years:2,annualTuition:7e3},{field:"Data Science",expectedMonthlySalary:6e3,years:2,annualTuition:7500}],phd:[{field:"Economics",expectedMonthlySalary:7e3,years:3,annualTuition:8e3},{field:"Computer Science",expectedMonthlySalary:8e3,years:3,annualTuition:9e3}]},o=[{sizeLabel:"Studio",monthlyRent:700},{sizeLabel:"1-Bedroom",monthlyRent:1e3},{sizeLabel:"2-Bedroom",monthlyRent:1400}],c={food:250,phone:30,clothes:50,transport:120},m=[{kind:"etf",name:"Global Stock ETF",monthlyYieldRate:.004},{kind:"bond",name:"Bond Fund",monthlyYieldRate:.002},{kind:"real_estate",name:"REIT",monthlyYieldRate:.003}],h=()=>({ageMonths:216,cash:0,degree:"none",currentCareer:void 0,isStudying:!1,study:void 0,living:{mode:"home",monthlyRent:0,mortgagePayment:0},dependents:{spouse:!1,children:[]},loans:[],investments:[],monthHistory:[],gameOver:!1,achievedFI:!1,lifestyleExtrasMonthly:0,pendingOffers:[],leaderboardSubmitted:!1,jobSearchCooldownMonths:0,car:void 0,pendingInvestmentThisMonth:0}),u=(0,r.Ue)()((0,i.tJ)((e,s)=>({...h(),reset:()=>e(()=>h()),startJob:(s,t)=>e({currentCareer:{title:s,monthlySalary:t},isStudying:!1,study:void 0}),startStudy:(s,t,n,a)=>{e({isStudying:!0,study:{field:s,level:t,remainingMonths:12*n,annualTuition:a,workSideMonthlyIncome:0},currentCareer:void 0})},setSideJobIncome:s=>e(e=>({study:e.study?{...e.study,workSideMonthlyIncome:s}:e.study})),chooseLiving:(s,t,n)=>e({living:{mode:s,monthlyRent:t,mortgagePayment:0,sizeLabel:n}}),nextMonth:()=>{var t,n,a,r,i,l;let d=s();if(d.gameOver)return;let o="home"===d.living.mode,m=Math.max(0,d.ageMonths-252),h=o&&d.ageMonths>=252?500+50*m:0,u=c.food+c.phone+c.clothes+c.transport,x="rented"===d.living.mode?d.living.monthlyRent:0,y=d.living.mortgagePayment,p=d.dependents.children.reduce((e,s)=>e+(s.ageMonths<216?250:0),0),g=(d.dependents.spouse?300:0)+p,b=null!==(r=null===(t=d.car)||void 0===t?void 0:t.monthlyCost)&&void 0!==r?r:0,v=d.loans.reduce((e,s)=>e+s.monthlyPayment,0),j=d.investments.reduce((e,s)=>e+s.monthlyYield,0),N=(null!==(i=null===(n=d.currentCareer)||void 0===n?void 0:n.monthlySalary)&&void 0!==i?i:0)+(d.isStudying&&null!==(l=null===(a=d.study)||void 0===a?void 0:a.workSideMonthlyIncome)&&void 0!==l?l:0),f=d.isStudying&&d.study?d.study.annualTuition/12:0,S=N+j,M=u+x+y+v+g+h+d.lifestyleExtrasMonthly+f+b,C=S-M,k=d.cash+C,w={ageMonths:d.ageMonths+1,cash:k,monthHistory:[...d.monthHistory,{monthIndex:d.ageMonths-216+1,budget:{income:S,passiveIncome:j,expenses:M,investments:d.pendingInvestmentThisMonth,liabilities:v}}],pendingInvestmentThisMonth:0};if(d.isStudying&&d.study){let e=d.study.remainingMonths-1;if(w={...w,study:{...d.study,remainingMonths:e}},e<=0){let e=d.study.level;w.degree=e,w.isStudying=!1,w.study=void 0}}d.dependents.children.length>0&&(w.dependents={spouse:d.dependents.spouse,children:d.dependents.children.map(e=>({ageMonths:e.ageMonths+1}))}),!d.achievedFI&&j>=M&&M>0&&(w.achievedFI=!0),d.jobSearchCooldownMonths>0&&(w.jobSearchCooldownMonths=d.jobSearchCooldownMonths-1),e(w)},invest:(s,t)=>e(e=>{if(t<=0||e.cash<t)return e;let n=m.find(e=>e.kind===s);if(!n)return e;let a=t*n.monthlyYieldRate;return{cash:e.cash-t,investments:[...e.investments,{kind:s,principal:t,monthlyYield:a}],pendingInvestmentThisMonth:e.pendingInvestmentThisMonth+t}}),buyHouseCash:s=>e(e=>e.cash>=s?{cash:e.cash-s,living:{mode:"owned",monthlyRent:0,mortgagePayment:0}}:e),buyHouseMortgage:(s,t,n)=>e(e=>{var a,r,i,l;if(s>300*Math.max(0,(null!==(i=null===(a=e.currentCareer)||void 0===a?void 0:a.monthlySalary)&&void 0!==i?i:0)+(e.isStudying&&null!==(l=null===(r=e.study)||void 0===r?void 0:r.workSideMonthlyIncome)&&void 0!==l?l:0)+e.investments.reduce((e,s)=>e+s.monthlyYield,0)-(c.food+c.phone+c.clothes+c.transport)-("rented"===e.living.mode?e.living.monthlyRent:0)))return e;let d=12*n,o=t/12,m=0===o?s/d:s*o/(1-Math.pow(1+o,-d));return{living:{mode:"owned",monthlyRent:0,mortgagePayment:m},loans:[...e.loans,{kind:"mortgage",principal:s,rateAPR:t,monthlyPayment:m}]}}),triggerOffer:()=>e(e=>{let s=[{kind:"upgrade_car",description:"Upgrade your car - nicer ride!",costMonthly:250},{kind:"upgrade_house",description:"Move to a bigger apartment",costMonthly:400},{kind:"buy_clothes",description:"Designer clothing subscription",costMonthly:120},{kind:"vacation",description:"Take a luxury vacation",oneTimeCost:2e3}],t=s[Math.floor(Math.random()*s.length)],n=Math.random().toString(36).slice(2);return{pendingOffers:[...e.pendingOffers,{id:n,...t}]}}),acceptOffer:s=>e(e=>{var t,n;let a=e.pendingOffers.find(e=>e.id===s);return a?{pendingOffers:e.pendingOffers.filter(e=>e.id!==s),lifestyleExtrasMonthly:e.lifestyleExtrasMonthly+(null!==(t=a.costMonthly)&&void 0!==t?t:0),cash:e.cash-(null!==(n=a.oneTimeCost)&&void 0!==n?n:0)}:e}),declineOffer:s=>e(e=>({pendingOffers:e.pendingOffers.filter(e=>e.id!==s)})),addChild:()=>e(e=>({dependents:{...e.dependents,children:[...e.dependents.children,{ageMonths:0}]}})),marry:()=>e(e=>({dependents:{...e.dependents,spouse:!0}})),submitLeaderboardFlag:()=>e({leaderboardSubmitted:!0}),randomEvent:()=>e(e=>{let s=[()=>({living:"rented"===e.living.mode?{...e.living,monthlyRent:Math.round(1.15*e.living.monthlyRent)}:e.living,monthHistory:[...e.monthHistory,{monthIndex:e.ageMonths-216,budget:{income:0,passiveIncome:0,expenses:0,investments:0,liabilities:0},notes:["Housing crisis: rent increased"]}]}),()=>({currentCareer:void 0,jobSearchCooldownMonths:Math.max(e.jobSearchCooldownMonths,3),monthHistory:[...e.monthHistory,{monthIndex:e.ageMonths-216,budget:{income:0,passiveIncome:0,expenses:0,investments:0,liabilities:0},notes:["You lost your job. Searching for new role..."]}]}),()=>({currentCareer:e.currentCareer?{...e.currentCareer,monthlySalary:Math.round(1.1*e.currentCareer.monthlySalary)}:e.currentCareer,monthHistory:[...e.monthHistory,{monthIndex:e.ageMonths-216,budget:{income:0,passiveIncome:0,expenses:0,investments:0,liabilities:0},notes:["Good news: You received a promotion!"]}]})];return(0,s[Math.floor(Math.random()*s.length)])()}),setCar:(s,t)=>e({car:{tier:s,monthlyCost:t}}),takePersonalLoan:(s,t,n)=>e(e=>{if(s<=0||n<=0)return e;let a=12*n,r=t/12;return{cash:e.cash+s,loans:[...e.loans,{kind:"personal",principal:s,rateAPR:t,monthlyPayment:0===r?s/a:s*r/(1-Math.pow(1+r,-a))}]}})}),{name:"finanzstart-session",storage:(0,i.FL)(()=>sessionStorage)}));function x(e){let{open:s,onClose:t,children:a}=e;return s?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-xl rounded bg-white p-6 shadow-lg",children:[(0,n.jsx)("div",{className:"text-right",children:(0,n.jsx)("button",{className:"rounded px-3 py-1 text-sm hover:bg-gray-100",onClick:t,children:"Close"})}),(0,n.jsx)("div",{children:a})]})}):null}function y(){var e,s,t,r;let i=u(),[c,m]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)("");(0,a.useEffect)(()=>{i.reset(),m(!0)},[]);let j=Math.floor(i.ageMonths/12),N=i.ageMonths%12,f=(null!==(t=null===(e=i.currentCareer)||void 0===e?void 0:e.monthlySalary)&&void 0!==t?t:0)+(i.isStudying&&null!==(r=null===(s=i.study)||void 0===s?void 0:s.workSideMonthlyIncome)&&void 0!==r?r:0)+i.investments.reduce((e,s)=>e+s.monthlyYield,0),S=(0,a.useMemo)(()=>{var e,s;let t="rented"===i.living.mode?i.living.monthlyRent:0,n=i.living.mortgagePayment,a=(i.dependents.spouse?300:0)+250*i.dependents.children.filter(e=>e.ageMonths<216).length,r="home"===i.living.mode&&j>=21?Math.max(0,500+(i.ageMonths-252)*(50/12)):0,l=i.loans.reduce((e,s)=>e+s.monthlyPayment,0),d=i.isStudying&&i.study?i.study.annualTuition/12:0,o=null!==(s=null===(e=i.car)||void 0===e?void 0:e.monthlyCost)&&void 0!==s?s:0;return 450+t+n+a+l+r+d+i.lifestyleExtrasMonthly+o},[i,j]),[M,C]=(0,a.useState)(null);return(0,n.jsxs)("main",{className:"mx-auto max-w-5xl px-6 py-8",children:[(0,n.jsxs)("header",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"FinanzStart"}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Age: ",j,"y ",N,"m"]})]}),(0,n.jsxs)("section",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,n.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[!i.currentCareer&&!i.isStudying&&(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsx)("h2",{className:"font-semibold mb-2",children:"Choose your path"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{className:"rounded border px-4 py-2 ".concat("job"===M?"bg-indigo-50 border-indigo-400":""),onClick:()=>C("job"),children:"Start a Job"}),(0,n.jsx)("button",{className:"rounded border px-4 py-2 ".concat("study"===M?"bg-indigo-50 border-indigo-400":""),onClick:()=>C("study"),children:"Go to College"})]}),"job"===M&&(0,n.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-2 sm:grid-cols-2",children:l.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startJob(e.title,e.monthlySalary),children:[(0,n.jsx)("div",{className:"font-medium",children:e.title}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Monthly salary: €",e.monthlySalary.toLocaleString()]})]},e.title))}),"study"===M&&(0,n.jsx)("div",{className:"mt-4 space-y-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-2",children:"Bachelor programs (3 years)"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:d.bachelor.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"bachelor",e.years,e.annualTuition),children:[(0,n.jsx)("div",{className:"font-medium",children:e.field}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field))})]})})]}),i.isStudying&&i.study&&(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"font-semibold",children:["Studying ",i.study.field," (",i.study.level,") — ",i.study.remainingMonths," months remaining"]}),(0,n.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,n.jsx)("label",{className:"text-sm",children:"Side job income per month"}),(0,n.jsx)("input",{type:"number",className:"w-32 rounded border px-2 py-1",value:i.study.workSideMonthlyIncome,onChange:e=>i.setSideJobIncome(Number(e.target.value))})]}),"bachelor"===i.degree&&!i.currentCareer&&"bachelor"===i.study.level&&i.study.remainingMonths<=0&&(0,n.jsx)("div",{className:"text-sm text-green-700",children:"Bachelor completed. Choose to start a job or continue to a Master."})]}),"bachelor"===i.degree&&!i.isStudying&&!i.currentCareer&&(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Next steps"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[d.master.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"master",e.years,e.annualTuition),children:[(0,n.jsxs)("div",{className:"font-medium",children:["Master: ",e.field]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field)),(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startJob("Entry-level in field",3500),children:[(0,n.jsx)("div",{className:"font-medium",children:"Start a job"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Salary depends on field"})]})]})]}),"master"===i.degree&&!i.isStudying&&!i.currentCareer&&(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Next steps"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[d.phd.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"phd",e.years,e.annualTuition),children:[(0,n.jsxs)("div",{className:"font-medium",children:["PhD: ",e.field]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field)),(0,n.jsx)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startJob("Advanced role",5500),children:(0,n.jsx)("div",{className:"font-medium",children:"Start a job"})})]})]}),"phd"===i.degree&&!i.isStudying&&!i.currentCareer&&(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Choose a job"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:["Senior Researcher","Quant Analyst","R&D Manager"].map((e,s)=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startJob(e,7e3+500*s),children:[(0,n.jsx)("div",{className:"font-medium",children:e}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Monthly salary: €",(7e3+500*s).toLocaleString()]})]},e))})]}),(0,n.jsxs)("div",{className:"rounded border p-4 space-y-4",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Housing"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.chooseLiving("home",0),children:"Live at home"}),o.map(e=>(0,n.jsxs)("button",{className:"rounded border px-3 py-2",onClick:()=>i.chooseLiving("rented",e.monthlyRent,e.sizeLabel),children:["Rent ",e.sizeLabel," (€",e.monthlyRent,")"]},e.sizeLabel))]}),(0,n.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,n.jsxs)("div",{className:"rounded border p-3",children:[(0,n.jsx)("div",{className:"font-medium mb-2",children:"Buy house (cash)"}),(0,n.jsx)(p,{mode:"cash"})]}),(0,n.jsxs)("div",{className:"rounded border p-3",children:[(0,n.jsx)("div",{className:"font-medium mb-2",children:"Buy house (mortgage)"}),(0,n.jsx)(p,{mode:"mortgage"})]})]})]}),(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Car"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:[{tier:"none",label:"No car",cost:0},{tier:"used",label:"Used",cost:100},{tier:"compact",label:"Compact",cost:200},{tier:"sedan",label:"Sedan",cost:350},{tier:"luxury",label:"Luxury",cost:600}].map(e=>{var s;return(0,n.jsxs)("button",{className:"rounded border px-3 py-2 ".concat((null===(s=i.car)||void 0===s?void 0:s.tier)===e.tier?"bg-indigo-50 border-indigo-400":""),onClick:()=>i.setCar(e.tier,e.cost),children:[e.label," (€",e.cost,"/mo)"]},e.tier)})})]}),(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Investments"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.invest("etf",500),children:"Invest €500 in ETF"}),(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.invest("bond",500),children:"Invest €500 in Bonds"}),(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.invest("real_estate",1e3),children:"Invest €1000 in REIT"})]})]}),(0,n.jsxs)("div",{className:"rounded border p-4 space-y-3",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Loans"}),(0,n.jsx)(g,{}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"text-left border-b",children:[(0,n.jsx)("th",{className:"py-2 pr-4",children:"Kind"}),(0,n.jsx)("th",{className:"py-2 pr-4",children:"Principal"}),(0,n.jsx)("th",{className:"py-2 pr-4",children:"APR"}),(0,n.jsx)("th",{className:"py-2 pr-4",children:"Monthly"})]})}),(0,n.jsx)("tbody",{children:i.loans.map((e,s)=>(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:e.kind}),(0,n.jsxs)("td",{className:"py-2 pr-4",children:["€",e.principal.toLocaleString()]}),(0,n.jsxs)("td",{className:"py-2 pr-4",children:[(100*e.rateAPR).toFixed(2),"%"]}),(0,n.jsxs)("td",{className:"py-2 pr-4",children:["€",e.monthlyPayment.toFixed(0)]})]},s))})]})})]}),(0,n.jsxs)("div",{className:"rounded border p-4 space-y-2",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Month Summary"}),(0,n.jsxs)("div",{className:"text-sm text-gray-700",children:["Income: €",f.toFixed(0)," | Expenses: €",S.toFixed(0)," | Net: €",(f-S).toFixed(0)," | Cash: €",i.cash.toFixed(0)]}),(0,n.jsx)("button",{className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700",onClick:()=>i.nextMonth(),children:"Confirm End of Month"}),(0,n.jsx)("button",{className:"ml-2 rounded border px-4 py-2",onClick:()=>i.triggerOffer(),children:"Trigger Offer"})]})]}),(0,n.jsxs)("aside",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Status"}),(0,n.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("li",{children:["Career: ",i.currentCareer?"".concat(i.currentCareer.title," (€").concat(i.currentCareer.monthlySalary,")"):i.isStudying?"Studying":"None"]}),(0,n.jsxs)("li",{children:["Degree: ",i.degree]}),(0,n.jsxs)("li",{children:["Living: ",i.living.mode,i.living.sizeLabel?" (".concat(i.living.sizeLabel,")"):""]}),(0,n.jsxs)("li",{children:["Investments passive income: €",i.investments.reduce((e,s)=>e+s.monthlyYield,0).toFixed(0)]}),(0,n.jsxs)("li",{children:["Extras monthly: €",i.lifestyleExtrasMonthly.toFixed(0)]}),i.jobSearchCooldownMonths>0&&(0,n.jsxs)("li",{className:"text-amber-700",children:["Job search: ",i.jobSearchCooldownMonths," months"]})]})]}),(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Monthly Spreadsheet (last 12)"}),(0,n.jsx)("button",{className:"rounded border px-3 py-1 text-sm",onClick:()=>(function(e){let s=[["Month","Income","Passive","Expenses","Invested","Liabilities","Net"]];for(let t of e.monthHistory){let e=t.budget.income-t.budget.expenses;s.push([String(t.monthIndex),String(Math.round(t.budget.income)),String(Math.round(t.budget.passiveIncome)),String(Math.round(t.budget.expenses)),String(Math.round(t.budget.investments)),String(Math.round(t.budget.liabilities)),String(Math.round(e))])}let t=new Blob([s.map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="finanzstart_spreadsheet.csv",a.click(),URL.revokeObjectURL(n)})(i),children:"Export CSV"})]}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full text-xs md:text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"text-left border-b",children:[(0,n.jsx)("th",{className:"py-2 pr-3",children:"Month"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Income"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Passive"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Expenses"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Invested"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Liabilities"}),(0,n.jsx)("th",{className:"py-2 pr-3",children:"Net"})]})}),(0,n.jsx)("tbody",{children:i.monthHistory.slice(-12).map(e=>(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("td",{className:"py-2 pr-3",children:e.monthIndex}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",e.budget.income.toFixed(0)]}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",e.budget.passiveIncome.toFixed(0)]}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",e.budget.expenses.toFixed(0)]}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",e.budget.investments.toFixed(0)]}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",e.budget.liabilities.toFixed(0)]}),(0,n.jsxs)("td",{className:"py-2 pr-3",children:["€",(e.budget.income-e.budget.expenses).toFixed(0)]})]},e.monthIndex))})]})})]}),!i.isStudying&&(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Education while working"}),"none"===i.degree&&(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:d.bachelor.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"bachelor",e.years,e.annualTuition),children:[(0,n.jsxs)("div",{className:"font-medium",children:["Bachelor: ",e.field]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field))}),"bachelor"===i.degree&&(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:d.master.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"master",e.years,e.annualTuition),children:[(0,n.jsxs)("div",{className:"font-medium",children:["Master: ",e.field]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field))}),"master"===i.degree&&(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:d.phd.map(e=>(0,n.jsxs)("button",{className:"rounded border p-3 text-left hover:bg-gray-50",onClick:()=>i.startStudy(e.field,"phd",e.years,e.annualTuition),children:[(0,n.jsxs)("div",{className:"font-medium",children:["PhD: ",e.field]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Expected salary after: €",e.expectedMonthlySalary.toLocaleString()]})]},e.field))})]}),(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Family"}),(0,n.jsxs)("div",{className:"space-x-2",children:[!i.dependents.spouse&&(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.marry(),children:"Marry"}),(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.addChild(),children:"Add Child"})]})]}),i.achievedFI&&(0,n.jsxs)("div",{className:"rounded border p-4 bg-green-50",children:[(0,n.jsx)("div",{className:"font-semibold",children:"Congratulations!"}),(0,n.jsx)("p",{className:"text-sm",children:"You have reached financial independence."}),!i.leaderboardSubmitted&&(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)("button",{className:"rounded bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700",onClick:()=>y(!0),children:"Submit to Leaderboard"})})]}),i.pendingOffers.length>0&&(0,n.jsxs)("div",{className:"rounded border p-4 bg-yellow-50",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Offers"}),(0,n.jsx)("div",{className:"space-y-2",children:i.pendingOffers.map(e=>(0,n.jsxs)("div",{className:"rounded border p-2 bg-white",children:[(0,n.jsxs)("div",{className:"text-sm",children:[e.description," ",e.costMonthly?"(€".concat(e.costMonthly,"/mo)"):""," ",e.oneTimeCost?"(€".concat(e.oneTimeCost," one-time)"):""]}),(0,n.jsxs)("div",{className:"mt-2 space-x-2",children:[(0,n.jsx)("button",{className:"rounded bg-emerald-600 px-3 py-1 text-white",onClick:()=>i.acceptOffer(e.id),children:"Accept"}),(0,n.jsx)("button",{className:"rounded border px-3 py-1",onClick:()=>i.declineOffer(e.id),children:"Decline"})]})]},e.id))})]}),(0,n.jsxs)("div",{className:"rounded border p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Random Events"}),(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>i.randomEvent(),children:"Trigger Random Event"})]})]})]}),(0,n.jsx)(x,{open:c,onClose:()=>m(!1),children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Welcome to FinanzStart"}),(0,n.jsx)("p",{children:'Welcome to "FinanzStart", your easy way to learn financial responsibility and start your journey to your personal financial freedom. Every player starts at the same place. Fresh out of High School you can choose your career path. Your decisions during the game will lead you to financial success or financial failure. Choose wisely.'}),(0,n.jsx)("div",{className:"text-right",children:(0,n.jsx)("button",{className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700",onClick:()=>m(!1),children:"Begin"})})]})}),(0,n.jsx)(x,{open:h,onClose:()=>y(!1),children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Add your name to the Leaderboards"}),(0,n.jsx)("input",{className:"w-full rounded border px-3 py-2",placeholder:"Your name",value:b,onChange:e=>v(e.target.value)}),(0,n.jsxs)("div",{className:"text-right space-x-2",children:[(0,n.jsx)("button",{className:"rounded border px-4 py-2",onClick:()=>y(!1),children:"Cancel"}),(0,n.jsx)("button",{className:"rounded bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700",onClick:async()=>{let e=i.ageMonths,s=i.investments.reduce((e,s)=>e+s.monthlyYield,0);await fetch("/api/leaderboard/db-route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:b,retirementAgeMonths:e,passiveIncomeAtRetirement:s})}),u.getState().submitLeaderboardFlag(),y(!1)},children:"Submit"})]})]})})]})}function p(e){let{mode:s}=e,t=u(),[r,i]=(0,a.useState)(15e4),[l,d]=(0,a.useState)(.04),[o,c]=(0,a.useState)(25);return(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("label",{className:"w-24",children:"Price"}),(0,n.jsx)("input",{type:"number",className:"w-36 rounded border px-2 py-1",value:r,onChange:e=>i(Number(e.target.value))})]}),"mortgage"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("label",{className:"w-24",children:"Rate (APR)"}),(0,n.jsx)("input",{type:"number",step:"0.001",className:"w-36 rounded border px-2 py-1",value:l,onChange:e=>d(Number(e.target.value))})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("label",{className:"w-24",children:"Years"}),(0,n.jsx)("input",{type:"number",className:"w-36 rounded border px-2 py-1",value:o,onChange:e=>c(Number(e.target.value))})]})]}),(0,n.jsx)("div",{children:"cash"===s?(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>t.buyHouseCash(r),children:"Buy Cash"}):(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>t.buyHouseMortgage(r,l,o),children:"Buy with Mortgage"})})]})}function g(){let e=u(),[s,t]=(0,a.useState)(5e3),[r,i]=(0,a.useState)(.08),[l,d]=(0,a.useState)(3);return(0,n.jsxs)("div",{className:"flex flex-wrap items-end gap-3 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-600",children:"Amount"}),(0,n.jsx)("input",{type:"number",className:"w-36 rounded border px-2 py-1",value:s,onChange:e=>t(Number(e.target.value))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-600",children:"APR"}),(0,n.jsx)("input",{type:"number",step:"0.001",className:"w-28 rounded border px-2 py-1",value:r,onChange:e=>i(Number(e.target.value))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-600",children:"Years"}),(0,n.jsx)("input",{type:"number",className:"w-24 rounded border px-2 py-1",value:l,onChange:e=>d(Number(e.target.value))})]}),(0,n.jsx)("button",{className:"rounded border px-3 py-2",onClick:()=>e.takePersonalLoan(s,r,l),children:"Take Personal Loan"})]})}}},function(e){e.O(0,[151,971,23,744],function(){return e(e.s=4895)}),_N_E=e.O()}]);